<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Logging System v2.0</title>
    <link rel="stylesheet" href="styles_enhanced.css">
</head>
<body>
    <!-- Login Page -->
    <div id="loginContainer" class="login-container">
        <div class="login-box">
            <h1>üîê Universal Logging System</h1>
            <p class="login-subtitle">Centralized Logging Platform</p>
            
            <form id="loginForm" class="login-form">
                <div class="form-group">
                    <label for="loginUsername">Username</label>
                    <input type="text" id="loginUsername" placeholder="admin" required>
                </div>
                
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" placeholder="admin123" required>
                </div>
                
                <button type="submit" class="btn-login">Sign In</button>
                
                <p class="login-hint">Demo: admin / admin123</p>
            </form>
            
            <div id="loginError" class="error-message"></div>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboardContainer" class="dashboard-container" style="display: none;">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h2>üìä ULS</h2>
                <p>v2.0</p>
            </div>
            
            <nav class="sidebar-menu">
                <a href="#dashboard" class="menu-item active" onclick="switchTab('dashboard')">
                    <span>üìà Dashboard</span>
                </a>
                <a href="#logs" class="menu-item" onclick="switchTab('logs')">
                    <span>üìù Logs</span>
                </a>
                <a href="#analytics" class="menu-item" onclick="switchTab('analytics')">
                    <span>üìä Analytics</span>
                </a>
                <a href="#alerts" class="menu-item" onclick="switchTab('alerts')">
                    <span>üîî Alerts</span>
                </a>
                <a href="#apikeys" class="menu-item" onclick="switchTab('apikeys')">
                    <span>üîë API Keys</span>
                </a>
                <a href="#settings" class="menu-item" onclick="switchTab('settings')">
                    <span>‚öôÔ∏è Settings</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-info">
                    <div class="user-avatar">A</div>
                    <div>
                        <div class="user-name" id="userNameDisplay">Admin</div>
                        <div class="user-role">Administrator</div>
                    </div>
                </div>
                <button id="logoutBtn" class="btn-logout">Logout</button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="top-header">
                <div class="header-left">
                    <h1 id="pageTitle">Dashboard</h1>
                    <p id="pageSubtitle" class="subtitle">Real-time system overview</p>
                </div>
                <div class="header-right">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Search logs..." class="search-input">
                        <button class="btn-search">üîç</button>
                    </div>
                </div>
            </header>

            <!-- Content Sections -->
            <div class="content-wrapper">
                
                <!-- Dashboard Tab -->
                <section id="dashboardTab" class="tab-content active">
                    <!-- Statistics Cards -->
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">üìä</div>
                            <div class="stat-content">
                                <div class="stat-value" id="totalLogsCount">0</div>
                                <div class="stat-label">Total Logs</div>
                            </div>
                        </div>
                        
                        <div class="stat-card error">
                            <div class="stat-icon">‚ùå</div>
                            <div class="stat-content">
                                <div class="stat-value" id="errorCountDisplay">0</div>
                                <div class="stat-label">Errors</div>
                            </div>
                        </div>
                        
                        <div class="stat-card warning">
                            <div class="stat-icon">‚ö†Ô∏è</div>
                            <div class="stat-content">
                                <div class="stat-value" id="warningCountDisplay">0</div>
                                <div class="stat-label">Warnings</div>
                            </div>
                        </div>
                        
                        <div class="stat-card success">
                            <div class="stat-icon">‚úÖ</div>
                            <div class="stat-content">
                                <div class="stat-value" id="infoCountDisplay">0</div>
                                <div class="stat-label">Info</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- System Status -->
                    <div class="dashboard-grid">
                        <div class="card">
                            <h3>üî¥ System Health</h3>
                            <div class="health-indicator">
                                <div class="health-bar">
                                    <div class="health-fill" id="healthFill" style="width: 85%"></div>
                                </div>
                                <div class="health-text">
                                    <span id="healthPercent">85%</span>
                                    <span id="healthStatus">Healthy</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card">
                            <h3>üöÄ Performance</h3>
                            <div class="metric-item">
                                <span>Avg Response Time</span>
                                <span id="avgResponseTime" class="metric-value">--</span>
                            </div>
                            <div class="metric-item">
                                <span>Error Rate</span>
                                <span id="errorRate" class="metric-value">--</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Logs -->
                    <div class="card full-width">
                        <h3>üìù Recent Logs</h3>
                        <div class="logs-list" id="recentLogsList">
                            <div class="empty-state">No logs yet</div>
                        </div>
                    </div>
                </section>

                <!-- Logs Tab -->
                <section id="logsTab" class="tab-content">
                    <div class="card">
                        <h3>Log Filters</h3>
                        <div class="filter-grid">
                            <div class="filter-group">
                                <label>Service</label>
                                <select id="filterService" class="filter-select">
                                    <option value="">All Services</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Level</label>
                                <select id="filterLevel" class="filter-select">
                                    <option value="">All Levels</option>
                                    <option value="DEBUG">üîµ Debug</option>
                                    <option value="INFO">üü¢ Info</option>
                                    <option value="WARNING">üü° Warning</option>
                                    <option value="ERROR">üî¥ Error</option>
                                    <option value="CRITICAL">‚õî Critical</option>
                                </select>
                            </div>
                            <div class="filter-group">
                                <label>Time Range</label>
                                <select id="filterTime" class="filter-select">
                                    <option value="1">Last 1 Hour</option>
                                    <option value="24" selected>Last 24 Hours</option>
                                    <option value="7">Last 7 Days</option>
                                    <option value="30">Last 30 Days</option>
                                </select>
                            </div>
                            <button class="btn-apply-filters" onclick="applyFilters()">Apply Filters</button>
                            <button class="btn-export" onclick="exportLogs('csv')">üì• CSV</button>
                            <button class="btn-export" onclick="exportLogs('json')">üì• JSON</button>
                        </div>
                    </div>
                    
                    <div class="card full-width">
                        <h3>All Logs</h3>
                        <div class="table-wrapper">
                            <table class="logs-table">
                                <thead>
                                    <tr>
                                        <th>Timestamp</th>
                                        <th>Service</th>
                                        <th>Level</th>
                                        <th>Message</th>
                                        <th>Trace ID</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody id="logsTableBody">
                                    <tr class="empty-row">
                                        <td colspan="6" class="text-center">No logs found</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Analytics Tab -->
                <section id="analyticsTab" class="tab-content">
                    <div class="analytics-grid">
                        <div class="card">
                            <h3>üìä Log Level Distribution</h3>
                            <canvas id="logLevelChart" style="max-height: 300px;"></canvas>
                        </div>
                        <div class="card">
                            <h3>üîß Services</h3>
                            <div id="servicesListContainer" class="services-list">
                                <div class="empty-state">Loading...</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card full-width">
                        <h3>üìà Error Trends (Last 24h)</h3>
                        <canvas id="errorTrendChart" style="height: 300px;"></canvas>
                    </div>
                </section>

                <!-- Alerts Tab -->
                <section id="alertsTab" class="tab-content">
                    <div class="card">
                        <h3>‚ûï Create Alert Rule</h3>
                        <form id="alertForm" class="alert-form">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Rule Name</label>
                                    <input type="text" id="alertName" placeholder="Database Connection Failed" required>
                                </div>
                                <div class="form-group">
                                    <label>Service</label>
                                    <input type="text" id="alertService" placeholder="Optional">
                                </div>
                                <div class="form-group">
                                    <label>Log Level</label>
                                    <select id="alertLevel" required>
                                        <option value="WARNING">Warning</option>
                                        <option value="ERROR">Error</option>
                                        <option value="CRITICAL">Critical</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Alert Type</label>
                                    <select id="alertType" required>
                                        <option value="email">üìß Email</option>
                                        <option value="slack">üí¨ Slack</option>
                                        <option value="webhook">üîó Webhook</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Target (Email/Slack/URL)</label>
                                    <input type="text" id="alertTarget" placeholder="email@example.com" required>
                                </div>
                                <div class="form-group">
                                    <label>Threshold</label>
                                    <input type="number" id="alertThreshold" value="1" min="1">
                                </div>
                            </div>
                            <button type="submit" class="btn-primary">Create Alert Rule</button>
                        </form>
                    </div>
                    
                    <div class="card full-width">
                        <h3>üìã Active Alert Rules</h3>
                        <div id="alertRulesList" class="rules-list">
                            <div class="empty-state">No alert rules created</div>
                        </div>
                    </div>
                </section>

                <!-- API Keys Tab -->
                <section id="apikeysTab" class="tab-content">
                    <div class="card">
                        <h3>‚ûï Generate API Key</h3>
                        <form id="apiKeyForm" class="api-key-form">
                            <div class="form-grid">
                                <div class="form-group">
                                    <label>Key Name</label>
                                    <input type="text" id="keyName" placeholder="Production API" required>
                                </div>
                                <div class="form-group">
                                    <label>Service Name</label>
                                    <input type="text" id="serviceName" placeholder="user-service" required>
                                </div>
                            </div>
                            <button type="submit" class="btn-primary">Generate Key</button>
                        </form>
                    </div>
                    
                    <div class="card full-width">
                        <h3>üîë Your API Keys</h3>
                        <div id="apiKeysList" class="api-keys-list">
                            <div class="empty-state">No API keys generated</div>
                        </div>
                    </div>
                </section>

                <!-- Settings Tab -->
                <section id="settingsTab" class="tab-content">
                    <div class="card">
                        <h3>‚öôÔ∏è Settings</h3>
                        <div class="settings-group">
                            <h4>User Preferences</h4>
                            <div class="setting-item">
                                <label>Email Notifications</label>
                                <input type="checkbox" id="emailNotifications" checked>
                            </div>
                            <div class="setting-item">
                                <label>Dark Mode</label>
                                <input type="checkbox" id="darkMode" checked>
                            </div>
                            <div class="setting-item">
                                <label>Auto-refresh Logs (seconds)</label>
                                <input type="number" id="refreshInterval" value="5" min="1">
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>üóëÔ∏è Data Management</h3>
                        <button class="btn-danger" onclick="clearOldLogs()">Clear Logs Older Than 30 Days</button>
                    </div>
                </section>

            </div>
        </main>
    </div>

    <!-- Toast Notifications -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="app_enhanced.js"></script>
</body>
</html>
